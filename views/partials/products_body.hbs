<!-- Main -->
<div id="main">    
    <div class="inner">
        <h1>Products</h1>

        <div class="image main">
            <img src="images/banner-image-6-1920x500.jpg" class="img-fluid" alt="" />
            
        </div>
            <!-- Search form -->
            <form id="search-form" class="form-inline active-pink-3 active-pink-4 form-inline filter-form" method="GET">
                <div class="form-group form-filter justify-content-start" id="searchbar">
                        <input class="search-box" type="text" placeholder="Search for author or book's name"
                            aria-label="Search" name="search">
                </div>
                <div class="form-group form-filter">
                    <select class="mdb-select md-form colorful-select dropdown-primary justify-content-center categories-dropdown" name="category">
                        <option value="">All</option>
                        {{#each categories}}
                        <option value="{{category}}">{{category}}</option>
                        {{/each}}
                    </select>
                </div>
                <div class="form-group form-filter">
                    <select class="mdb-select md-form colorful-select dropdown-primary justify-content-center orderby-dropdown" name="orderby">
                        <option value="1">A to Z</option>
                        <option value="-1">Z to A</option>
                    </select>
                </div>
                <div class="form-group form-filter justify-content-start" id="price-range">
                    <input class="number-input" id="minprice" type="text" placeholder="min-price" pattern="(199|[0-1]?[0-9]?[0-9])" title="Giá trị khoảng từ 0 ~ 199" onkeyup="checkIsBigger()"
                        aria-label="minprice" name="min-price" min="0" max="200">
                    <input class="number-input" id="maxprice" type="text" placeholder="max-price" pattern="(199|[0-1]?[0-9]?[0-9])" title="Giá trị khoảng từ 0 ~ 199" onkeyup="checkIsBigger()"
                        aria-label="maxprice" name="maxprice" min="0" max="200">
                </div>
                <div class="form-group form-filter">
                    <input class="primary search-button" type="submit" value="Tìm kiếm" id="pricesearch">
                </div>
            </form>
             <div style="height: 2em;"><span id="hidden" style="display: none; font-weight:bold; color:red; float:right; clear:both; " >Max Price must be equal or bigger than Min Price</span></div>
        <nav>
            <ul class="pagination justify-content-end pagination-controller">
                {{#if hasPreviousPage}}
                <li class="page-item">
                <a class="page-link" onclick="getPageAjax('{{firstPageQuery}}')" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
                </li>
                <li class="page-item"><a class="page-link" onclick="getPageAjax('{{previousPageQuery}}')">{{previousPage}}</a></li>
                {{/if}}
                <li class="page-item active"><a class="page-link"onclick="getPageAjax('{{currentPageQuery}}')">{{currentPage}}</a></li>
                {{#if hasNextPage}}
                <li class="page-item"><a class="page-link" onclick="getPageAjax('{{nextPageQuery}}')">{{nextPage}}</a></li>
                <li class="page-item">
                <a class="page-link" onclick="getPageAjax('{{totalPageQuery}}')" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
                </li>
                {{/if}}
            </ul>
        </nav>

        <!-- Products -->
        <section class="tiles" id="product-page-section">
            {{#each products}}
            <article class="style1">
                <span class="image">
                    <img src="{{image}}" alt="" />
                </span>
                <a href="/products/{{_id}}">
                    <h2>{{name}}</h2>
                    <h3>{{author}}</h3>
                    <p><strong>{{price}}</strong></p>

                    <p>{{categories}}</p>
                </a>
            </article>
            {{/each}}
        </section>

        <nav>
            <ul class="pagination justify-content-end pagination-controller">
                {{#if hasPreviousPage}}
                <li class="page-item">
                <a class="page-link" onclick="getPageAjax('{{firstPageQuery}}')" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                </a>
                </li>
                <li class="page-item"><a class="page-link" onclick="getPageAjax('{{previousPageQuery}}')">{{previousPage}}</a></li>
                {{/if}}
                <li class="page-item active"><a class="page-link"onclick="getPageAjax('{{currentPageQuery}}')">{{currentPage}}</a></li>
                {{#if hasNextPage}}
                <li class="page-item"><a class="page-link" onclick="getPageAjax('{{nextPageQuery}}')">{{nextPage}}</a></li>
                <li class="page-item">
                <a class="page-link" onclick="getPageAjax('{{totalPageQuery}}')" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
                </li>
                {{/if}}
            </ul>
        </nav> 
    </div>  
</div>

